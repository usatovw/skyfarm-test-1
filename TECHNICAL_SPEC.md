# üìã –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–Ø: –ù–æ–≤–∞—è –°–∏—Å—Ç–µ–º–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–ª–∞–Ω—à–µ—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π (–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí –†—è–¥ ‚Üí –°—Ç–æ–π–∫–∞ ‚Üí –ü–æ–¥–¥–æ–Ω) –∏ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å–∞–¥–æ–∫.

---

## üìä –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –î–ê–ù–ù–´–•

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Ññ 41-i2f
‚îú‚îÄ‚îÄ –†—è–¥ A (6 —Å—Ç–æ–µ–∫ √ó 7 –ø–æ–¥–¥–æ–Ω–æ–≤ = 42 –ø–æ–¥–¥–æ–Ω–∞)
‚îÇ   ‚îú‚îÄ‚îÄ –°—Ç–æ–π–∫–∞ 1 (7 –ø–æ–¥–¥–æ–Ω–æ–≤ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ –°—Ç–æ–π–∫–∞ 2 (7 –ø–æ–¥–¥–æ–Ω–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ –°—Ç–æ–π–∫–∞ 6 (7 –ø–æ–¥–¥–æ–Ω–æ–≤)
‚îî‚îÄ‚îÄ –†—è–¥ B (6 —Å—Ç–æ–µ–∫ √ó 7 –ø–æ–¥–¥–æ–Ω–æ–≤ = 42 –ø–æ–¥–¥–æ–Ω–∞)
    ‚îú‚îÄ‚îÄ –°—Ç–æ–π–∫–∞ 1 (7 –ø–æ–¥–¥–æ–Ω–æ–≤ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ)
    ‚îî‚îÄ‚îÄ ...

–ò–¢–û–ì–û: 2 —Ä—è–¥–∞ √ó 6 —Å—Ç–æ–µ–∫ √ó 7 –ø–æ–¥–¥–æ–Ω–æ–≤ = 84 –ø–æ–¥–¥–æ–Ω–∞
```

### 2. –°—Ç–∞—Ç—É—Å—ã –ø–æ–¥–¥–æ–Ω–æ–≤ (8 —Å–æ—Å—Ç–æ—è–Ω–∏–π)

| ‚Ññ | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–µ—Ä–µ—Ö–æ–¥ |
|---|--------|----------|---------|
| 1 | `empty` | –ü—É—Å—Ç–æ–π –ø–æ–¥–¥–æ–Ω | ‚Üí `planned` (—á–µ—Ä–µ–∑ –ø–æ—Å–∞–¥–∫—É) |
| 2 | `planned` | –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ—Å–∞–¥–∫–∞ (—á–µ—Ä–Ω–æ–≤–∏–∫) | ‚Üí `growing` (–ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è) |
| 3 | `growing` | –ê–∫—Ç–∏–≤–Ω–æ —Ä–∞—Å—Ç–µ—Ç | ‚Üí `ready` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) –∏–ª–∏ ‚Üí `stop_pending` |
| 4 | `ready` | –ì–æ—Ç–æ–≤ –∫ —Å–±–æ—Ä—É —É—Ä–æ–∂–∞—è | ‚Üí `harvested` (—á–µ—Ä–µ–∑ —Å–±–æ—Ä) |
| 5 | `harvested` | –°–æ–±—Ä–∞–Ω, —Ç—Ä–µ–±—É–µ—Ç –æ—á–∏—Å—Ç–∫–∏ | ‚Üí `empty` (—á–µ—Ä–µ–∑ –æ—á–∏—Å—Ç–∫—É) |
| 6 | `stop_pending` | –ü–æ–º–µ—á–µ–Ω –Ω–∞ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è | ‚Üí `empty` (–ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è) –∏–ª–∏ ‚Üê `growing` (–æ—Ç–º–µ–Ω–∞) |
| 7 | `problem` | –ü—Ä–æ–±–ª–µ–º–∞/–æ—à–∏–±–∫–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–æ—Å—Ç–∞ | –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è –∞–≥—Ä–æ–Ω–æ–º–∞ |
| 8 | `no_data` | –ù–µ –≤—ã–±—Ä–∞–Ω –Ω–∏ –æ–¥–∏–Ω –ø–æ–¥–¥–æ–Ω | UI —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–Ω–µ –≤ –ë–î) |

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ TypeScript —Ç–∏–ø—ã

```typescript
// –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –ø–æ–¥–¥–æ–Ω–æ–≤
export type TrayStatus =
  | 'empty'           // –ü—É—Å—Ç–æ–π
  | 'planned'         // –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ (—á–µ—Ä–Ω–æ–≤–∏–∫)
  | 'growing'         // –†–∞—Å—Ç–µ—Ç
  | 'ready'           // –ì–æ—Ç–æ–≤ –∫ —Å–±–æ—Ä—É
  | 'harvested'       // –°–æ–±—Ä–∞–Ω
  | 'stop_pending'    // –ù–∞ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ
  | 'problem'         // –ü—Ä–æ–±–ª–µ–º–∞

export type TrayUIState = TrayStatus | 'no_data' | 'mixed_selection'

export interface Tray {
  id: string
  rackId: string
  position: number // 1-7 –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö
  status: TrayStatus
  crop?: {
    cropId: string
    plantedDate?: Date
    currentStage: string      // germination, seedling, vegetation, harvest
    daysInStage: number
    totalDaysGrowing: number
    estimatedHarvestDate?: Date
    actualHarvestDate?: Date
    stageProgress: number     // 0-100%
    problems?: Problem[]
  }
}

export interface Problem {
  id: string
  type: 'climate' | 'nutrition' | 'disease' | 'other'
  severity: 'low' | 'medium' | 'high'
  description: string
  detectedAt: Date
}

export interface Rack {
  id: string
  rowId: string
  position: number // 1-6 –≤ —Ä—è–¥—É
  trays: Tray[] // 7 –ø–æ–¥–¥–æ–Ω–æ–≤
  status: 'empty' | 'partial' | 'full' // –í–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
  hasProblems: boolean
  hasReadyToHarvest: boolean
}

export interface Row {
  id: string
  name: 'A' | 'B'
  racks: Rack[] // 6 —Å—Ç–æ–µ–∫
  totalTrays: number // 42
  occupiedTrays: number
}

export interface Container {
  id: string
  name: string
  rows: Row[] // 2 —Ä—è–¥–∞
  currentClimate: ClimateData
  stats: {
    totalTrays: number      // 84
    occupied: number        // –ó–∞–Ω—è—Ç–æ (–Ω–µ empty)
    occupiedPercent: number // %
    planned: number         // –†–∞–∑–º–µ—â–µ–Ω–æ (planned)
    plannedPercent: number  // % –æ—Ç occupied
    growing: number         // –†–∞—Å—Ç–µ—Ç (growing)
    growingPercent: number  // % –æ—Ç occupied
    ready: number           // –ì–æ—Ç–æ–≤–æ (ready)
    readyPercent: number    // % –æ—Ç occupied
    free: number            // –°–≤–æ–±–æ–¥–Ω–æ (empty)
    freePercent: number     // % –æ—Ç total
  }
}
```

### 4. –°–∏—Å—Ç–µ–º–∞ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ (Draft System)

```typescript
export interface DraftAction {
  id: string
  type: 'plant' | 'harvest' | 'clear' | 'stop_growing' | 'cancel_stop'
  targetType: 'row' | 'rack' | 'tray'
  targetIds: string[]
  cropId?: string
  createdAt: Date
  affectedTrays: string[] // –°–ø–∏—Å–æ–∫ ID –ø–æ–¥–¥–æ–Ω–æ–≤
}

export interface DraftState {
  actions: DraftAction[]
  selectedItems: {
    rows: Set<string>
    racks: Set<string>
    trays: Set<string>
  }
  mode: 'single' | 'multi' // –†–µ–∂–∏–º –≤—ã–±–æ—Ä–∞
}

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
export interface ApplyDraftResult {
  success: boolean
  appliedActions: DraftAction[]
  failedActions: {action: DraftAction, reason: string}[]
  updatedTrays: Tray[]
}
```

---

## üé® –ö–û–ú–ü–û–ù–ï–ù–¢–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```
app/components/farm/v2/  (–Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
‚îú‚îÄ‚îÄ container/
‚îÇ   ‚îú‚îÄ‚îÄ ContainerView.tsx           # –ì–ª–∞–≤–Ω—ã–π —Å—Ä–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ ContainerStats.tsx          # 6 –≤–∏–¥–∂–µ—Ç–æ–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ ContainerSchema.tsx         # –°—Ö–µ–º–∞ —Ä—è–¥–æ–≤ –∏ —Å—Ç–æ–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ RowButton.tsx               # –ö–Ω–æ–ø–∫–∞ –≤—ã–±–æ—Ä–∞ —Ä—è–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ RackCard.tsx                # –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–æ–π–∫–∏ (long/short press)
‚îÇ
‚îú‚îÄ‚îÄ rack/
‚îÇ   ‚îú‚îÄ‚îÄ RackView.tsx                # –°—Ä–µ–∑ —Å—Ç–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ RackStats.tsx               # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ç–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ RackSchema.tsx              # –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ 7 –ø–æ–¥–¥–æ–Ω–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ TrayCard.tsx                # –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–¥–¥–æ–Ω–∞ –≤ —Å—Ç–æ–π–∫–µ
‚îÇ
‚îú‚îÄ‚îÄ tray/
‚îÇ   ‚îú‚îÄ‚îÄ TrayPreview.tsx             # –ü—Ä–µ–≤—å—é –ø–æ–¥–¥–æ–Ω–∞ (8 —Å–æ—Å—Ç–æ—è–Ω–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ TrayPreviewEmpty.tsx        # –ü—É—Å—Ç–æ–π –ø–æ–¥–¥–æ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ TrayPreviewPlanned.tsx      # –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
‚îÇ   ‚îú‚îÄ‚îÄ TrayPreviewGrowing.tsx      # –†–∞—Å—Ç—É—â–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ TrayPreviewReady.tsx        # –ì–æ—Ç–æ–≤—ã–π
‚îÇ   ‚îú‚îÄ‚îÄ TrayPreviewHarvested.tsx    # –°–æ–±—Ä–∞–Ω–Ω—ã–π
‚îÇ   ‚îú‚îÄ‚îÄ TrayPreviewStopPending.tsx  # –ù–∞ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ TrayPreviewProblem.tsx      # –° –ø—Ä–æ–±–ª–µ–º–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ TrayPreviewNoData.tsx       # –ù–µ –≤—ã–±—Ä–∞–Ω
‚îÇ
‚îú‚îÄ‚îÄ actions/
‚îÇ   ‚îú‚îÄ‚îÄ MultiSelectPanel.tsx        # –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å –º–∞—Å—Å–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ ContextMenu.tsx             # –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (long press)
‚îÇ   ‚îú‚îÄ‚îÄ CropSelectorModal.tsx       # –°–µ–ª–µ–∫—Ç–æ—Ä –∫—É–ª—å—Ç—É—Ä —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ ApplyChangesModal.tsx       # –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îÇ
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useLongPress.ts             # Hook –¥–ª—è long press
‚îÇ   ‚îú‚îÄ‚îÄ useSelection.ts             # Hook –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–±–æ—Ä–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ useDraftActions.ts          # Hook –¥–ª—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ useCompatibility.ts         # Hook –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
‚îÇ
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ calculateStats.ts           # –†–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    ‚îú‚îÄ‚îÄ filterCompatibleCrops.ts   # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫—É–ª—å—Ç—É—Ä
    ‚îî‚îÄ‚îÄ validateActions.ts          # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π
```

---

## üéØ –ú–ï–•–ê–ù–ò–ö–ê –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–Ø

### 1. SHORT PRESS (–û–¥–∏–Ω–æ—á–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ)

#### –†–µ–∂–∏–º SINGLE (–æ–¥–∏–Ω–æ—á–Ω—ã–π):
- **–°—Ç–æ–π–∫–∞**: –ø–µ—Ä–µ—Ö–æ–¥ –≤ —Å—Ä–µ–∑ —Å—Ç–æ–π–∫–∏
- **–ü–æ–¥–¥–æ–Ω**: –ø–æ–∫–∞–∑ –ø—Ä–µ–≤—å—é —Å–ø—Ä–∞–≤–∞

#### –†–µ–∂–∏–º MULTI (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä):
- **–°—Ç–æ–π–∫–∞**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö
- **–ü–æ–¥–¥–æ–Ω**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö

### 2. LONG PRESS (–î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ)

–û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏:

#### –î–ª—è —Å—Ç–æ–π–∫–∏:
```typescript
interface RackContextMenu {
  actions: [
    { id: 'enter', label: '–ü–µ—Ä–µ–π—Ç–∏ –≤ —Å—Ç–æ–π–∫—É', icon: 'ArrowRight' },
    { id: 'select', label: '–í—ã–±—Ä–∞—Ç—å', icon: 'Check' }, // –ü–µ—Ä–µ—Ö–æ–¥ –≤ multi mode
    { id: 'plant', label: '–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–∞–¥–∫—É', icon: 'Sprout', disabled: !hasEmptyTrays },
    { id: 'harvest', label: '–°–æ–±—Ä–∞—Ç—å —É—Ä–æ–∂–∞–π', icon: 'Scissors', disabled: !hasReadyTrays },
    { id: 'clear', label: '–û—á–∏—Å—Ç–∏—Ç—å –ø–æ—Å–∞–¥–∫—É', icon: 'Trash', disabled: !hasPlannedTrays },
    { id: 'stop', label: '–ü—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏–µ', icon: 'StopCircle', disabled: !hasGrowingTrays },
    { id: 'cancel_stop', label: '–û—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ', icon: 'Undo', disabled: !hasStopPendingTrays }
  ]
}
```

#### –î–ª—è –ø–æ–¥–¥–æ–Ω–∞:
```typescript
interface TrayContextMenu {
  actions: [
    { id: 'enter', label: '–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–æ–¥–¥–æ–Ω', icon: 'ArrowRight' },
    { id: 'select', label: '–í—ã–±—Ä–∞—Ç—å', icon: 'Check' },
    // –î–µ–π—Å—Ç–≤–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞:
    { id: 'plant', label: '–ó–∞—Å–∞–¥–∏—Ç—å', enabled: status === 'empty' },
    { id: 'clear_plan', label: '–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ—Å–∞–¥–∫—É', enabled: status === 'planned' },
    { id: 'stop', label: '–ü—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏–µ', enabled: status === 'growing' },
    { id: 'cancel_stop', label: '–û—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ', enabled: status === 'stop_pending' },
    { id: 'harvest', label: '–°–æ–±—Ä–∞—Ç—å —É—Ä–æ–∂–∞–π', enabled: status === 'ready' },
    { id: 'clear', label: '–û—á–∏—Å—Ç–∏—Ç—å –ø–æ–¥–¥–æ–Ω', enabled: status === 'harvested' }
  ]
}
```

### 3. –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–µ–∂–∏–º MULTI

**–°–ø–æ—Å–æ–±—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:**
1. Long press ‚Üí "–í—ã–±—Ä–∞—Ç—å" –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–º –º–µ–Ω—é
2. –ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ "–†—è–¥ A" –∏–ª–∏ "–†—è–¥ B" (–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –≤–µ—Å—å —Ä—è–¥)
3. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ —á–µ—Ä–µ–∑ action

**–í —Ä–µ–∂–∏–º–µ MULTI:**
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å –º–∞—Å—Å–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- Short press –¥–æ–±–∞–≤–ª—è–µ—Ç/—É–±–∏—Ä–∞–µ—Ç –∏–∑ –≤—ã–±–æ—Ä–∞
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—á–µ—Ç—á–∏–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –î–æ—Å—Ç—É–ø–Ω—ã –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

---

## üìê –í–ò–î–ñ–ï–¢–´ –°–¢–ê–¢–ò–°–¢–ò–ö–ò –ö–û–ù–¢–ï–ô–ù–ï–†–ê

### 6 –≤–∏–¥–∂–µ—Ç–æ–≤ –Ω–∞ —Å—Ä–µ–∑–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

```typescript
interface ContainerStatsWidgets {
  total: {
    value: 84,
    label: '–í—Å–µ–≥–æ –ø–æ–¥–¥–æ–Ω–æ–≤',
    description: '–û–±—â–∞—è –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞'
  },
  occupied: {
    value: 60,
    percent: 71,
    label: '–ó–∞–Ω—è—Ç–æ',
    description: '–ü–æ–¥–¥–æ–Ω—ã –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ (–Ω–µ empty)'
  },
  planned: {
    value: 20,
    percent: 24, // –æ—Ç total
    percentOfOccupied: 33, // –æ—Ç occupied
    label: '–†–∞–∑–º–µ—â–µ–Ω–æ',
    description: '–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –∫ –ø–æ—Å–∞–¥–∫–µ'
  },
  growing: {
    value: 35,
    percent: 42, // –æ—Ç total
    percentOfOccupied: 58, // –æ—Ç occupied
    label: '–†–∞—Å—Ç–µ—Ç',
    description: '–ê–∫—Ç–∏–≤–Ω–æ –≤—ã—Ä–∞—â–∏–≤–∞–µ—Ç—Å—è'
  },
  ready: {
    value: 5,
    percent: 6, // –æ—Ç total
    percentOfOccupied: 8, // –æ—Ç occupied
    label: '–ì–æ—Ç–æ–≤–æ',
    description: '–ì–æ—Ç–æ–≤–æ –∫ —Å–±–æ—Ä—É —É—Ä–æ–∂–∞—è'
  },
  free: {
    value: 24,
    percent: 29,
    label: '–°–≤–æ–±–æ–¥–Ω–æ',
    description: '–ü—É—Å—Ç—ã–µ –ø–æ–¥–¥–æ–Ω—ã'
  }
}
```

**–§–æ—Ä–º—É–ª—ã —Ä–∞—Å—á–µ—Ç–∞:**
```typescript
const occupied = planned + growing + ready + harvested + stop_pending + problem
const free = total - occupied
const occupiedPercent = (occupied / total) * 100
const plannedPercent = (planned / total) * 100
const growingPercent = (growing / total) * 100
const readyPercent = (ready / total) * 100
const freePercent = (free / total) * 100
```

---

## üå± –°–ò–°–¢–ï–ú–ê –ö–£–õ–¨–¢–£–†

### –ö—É–ª—å—Ç—É—Ä—ã –∏–∑ Excel:

```typescript
export const crops = [
  {
    id: 'arugula',
    name: '–†—É–∫–∫–æ–ª–∞',
    icon: 'üåø',
    stages: [
      { name: '–ü—Ä–æ—Ä–æ—Å—Ç–∫–∏', duration: 4, ph: [5.8, 6.2], ec: [900, 1200], temp: [20, 22], humidity: [70, 75] },
      { name: '–í–µ–≥–µ—Ç–∞—Ü–∏—è', duration: 11, ph: [6.0, 6.5], ec: [900, 1200], temp: [20, 22], humidity: [70, 75] },
      { name: '–°–æ–∑—Ä–µ–≤–∞–Ω–∏–µ', duration: 8, ph: [6.0, 6.5], ec: [1300, 1400], temp: [20, 22], humidity: [70, 75] }
    ],
    totalDays: 23 // 3-5 + 10-15 + 7-10 = ~23 (—Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è)
  },
  {
    id: 'lollo_rossa',
    name: '–õ–æ–ª–ª–æ –†–æ—Å—Å–∞',
    icon: 'ü•¨',
    stages: [
      { name: '–ü—Ä–æ—Ä–æ—Å—Ç–∫–∏', duration: 5, ph: [5.8, 6.2], ec: [900, 1200], temp: [20, 22], humidity: [70, 75] },
      { name: '–í–µ–≥–µ—Ç–∞—Ü–∏—è', duration: 17, ph: [5.8, 6.3], ec: [900, 1400], temp: [20, 22], humidity: [70, 75] },
      { name: '–°–æ–∑—Ä–µ–≤–∞–Ω–∏–µ', duration: 8, ph: [6.0, 6.3], ec: [1300, 1400], temp: [20, 22], humidity: [70, 75] }
    ],
    totalDays: 30
  },
  {
    id: 'romano',
    name: '–†–æ–º–∞–Ω–æ',
    icon: 'ü•¨',
    stages: [
      { name: '–ü—Ä–æ—Ä–æ—Å—Ç–∫–∏', duration: 6, ph: [5.8, 6.3], ec: [900, 1200], temp: [20, 22], humidity: [70, 75] },
      { name: '–í–µ–≥–µ—Ç–∞—Ü–∏—è', duration: 22, ph: [5.8, 6.4], ec: [900, 1400], temp: [20, 22], humidity: [70, 75] },
      { name: '–°–æ–∑—Ä–µ–≤–∞–Ω–∏–µ', duration: 12, ph: [6.0, 6.5], ec: [1300, 1400], temp: [20, 22], humidity: [70, 75] }
    ],
    totalDays: 40
  },
  {
    id: 'endive',
    name: '–≠–Ω–¥–∏–≤–∏–π',
    icon: 'ü•¨',
    stages: [
      { name: '–ü—Ä–æ—Ä–æ—Å—Ç–∫–∏', duration: 5, ph: [5.8, 6.3], ec: [900, 1200], temp: [20, 22], humidity: [70, 75] },
      { name: '–í–µ–≥–µ—Ç–∞—Ü–∏—è', duration: 17, ph: [5.9, 6.4], ec: [900, 1400], temp: [20, 22], humidity: [70, 75] },
      { name: '–°–æ–∑—Ä–µ–≤–∞–Ω–∏–µ', duration: 12, ph: [6.0, 6.5], ec: [1300, 1400], temp: [20, 22], humidity: [70, 75] }
    ],
    totalDays: 34
  }
]
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:

```typescript
function checkCropCompatibility(crop1: Crop, crop2: Crop): boolean {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
  const tempOverlap = Math.max(0,
    Math.min(crop1.maxTemp, crop2.maxTemp) -
    Math.max(crop1.minTemp, crop2.minTemp)
  )

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏
  const humidityOverlap = Math.max(0,
    Math.min(crop1.maxHumidity, crop2.maxHumidity) -
    Math.max(crop1.minHumidity, crop2.minHumidity)
  )

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º pH
  const phOverlap = Math.max(0,
    Math.min(crop1.maxPh, crop2.maxPh) -
    Math.max(crop1.minPh, crop2.minPh)
  )

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º EC
  const ecOverlap = Math.max(0,
    Math.min(crop1.maxEc, crop2.maxEc) -
    Math.max(crop1.minEc, crop2.minEc)
  )

  // –°–æ–≤–º–µ—Å—Ç–∏–º—ã –µ—Å–ª–∏ –µ—Å—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –í–°–ï–• –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  return tempOverlap > 0 && humidityOverlap > 0 && phOverlap > 0.1 && ecOverlap > 50
}
```

**–ü—Ä–∞–≤–∏–ª–æ:** –ü—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ—Å–∞–¥–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –∫—É–ª—å—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å–æ –í–°–ï–ú–ò —É–∂–µ —Ä–∞—Å—Ç—É—â–∏–º–∏ –∫—É–ª—å—Ç—É—Ä–∞–º–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

---

## üîÑ –°–¶–ï–ù–ê–†–ò–ô –†–ê–ë–û–¢–´ –ê–ì–†–û–ù–û–ú–ê

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ—Å–∞–¥–∫–∞ –Ω–æ–≤–æ–π –∫—É–ª—å—Ç—É—Ä—ã

```
1. –ê–≥—Ä–æ–Ω–æ–º –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Ññ 41-i2f
2. –í–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: 24 —Å–≤–æ–±–æ–¥–Ω—ã—Ö –ø–æ–¥–¥–æ–Ω–∞
3. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–†—è–¥ A" ‚Üí –≤–µ—Å—å —Ä—è–¥ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è (6 —Å—Ç–æ–µ–∫)
4. –ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å: "–í—ã–±—Ä–∞–Ω–æ —Å—Ç–æ–µ–∫: 6"
5. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–ó–∞—Å–∞–¥–∏—Ç—å" ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è CropSelector
6. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∫—É–ª—å—Ç—É—Ä—ã (–†—É–∫–∫–æ–ª–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞, —Ç.–∫. —É–∂–µ —Ä–∞—Å—Ç–µ—Ç –†–æ–º–∞–Ω–æ —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏)
7. –í—ã–±–∏—Ä–∞–µ—Ç "–õ–æ–ª–ª–æ –†–æ—Å—Å–∞"
8. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç draft action: plant ‚Üí 42 –ø–æ–¥–¥–æ–Ω–∞ ‚Üí lollo_rossa
9. –í–∏–¥–∂–µ—Ç "–†–∞–∑–º–µ—â–µ–Ω–æ" –º–µ–Ω—è–µ—Ç—Å—è: 20 ‚Üí 62 (+42)
10. –ê–≥—Ä–æ–Ω–æ–º –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"
11. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏
12. –ê–≥—Ä–æ–Ω–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç ‚Üí —Å—Ç–∞—Ç—É—Å –ø–æ–¥–¥–æ–Ω–æ–≤ –º–µ–Ω—è–µ—Ç—Å—è: empty ‚Üí planned ‚Üí growing
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è

```
1. –ê–≥—Ä–æ–Ω–æ–º –ø—Ä–æ–≤–∞–ª–∏–ª—Å—è –≤ –°—Ç–æ–π–∫—É 3 —Ä—è–¥–∞ B
2. –í–∏–¥–∏—Ç 7 –ø–æ–¥–¥–æ–Ω–æ–≤ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ
3. Long press –Ω–∞ –ü–æ–¥–¥–æ–Ω 4 ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
4. –í—ã–±–∏—Ä–∞–µ—Ç "–ü—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏–µ"
5. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º
6. –ê–≥—Ä–æ–Ω–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç ‚Üí –ø–æ–¥–¥–æ–Ω –ø–æ–º–µ—á–∞–µ—Ç—Å—è stop_pending (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
7. –î–µ–π—Å—Ç–≤–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —á–µ—Ä–Ω–æ–≤–∏–∫
8. –ü–æ—Å–ª–µ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è" ‚Üí –ø–æ–¥–¥–æ–Ω –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ empty
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–±–æ—Ä —É—Ä–æ–∂–∞—è

```
1. –ê–≥—Ä–æ–Ω–æ–º –Ω–∞ —Å—Ä–µ–∑–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
2. –í–∏–¥–∂–µ—Ç "–ì–æ—Ç–æ–≤–æ" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: 5 –ø–æ–¥–¥–æ–Ω–æ–≤ (6%)
3. Long press –Ω–∞ –°—Ç–æ–π–∫—É 2 —Ä—è–¥–∞ A (—É –Ω–µ–µ –∏–∫–æ–Ω–∫–∞ "–ì–æ—Ç–æ–≤–æ –∫ —Å–±–æ—Ä—É" üåø)
4. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é ‚Üí "–°–æ–±—Ä–∞—Ç—å —É—Ä–æ–∂–∞–π"
5. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–¥–¥–æ–Ω—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º ready
6. –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è ‚Üí —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è: ready ‚Üí harvested
7. –ê–≥—Ä–æ–Ω–æ–º –º–æ–∂–µ—Ç –æ—á–∏—Å—Ç–∏—Ç—å: harvested ‚Üí empty
```

---

## üé® UI/UX –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤:

| –°—Ç–∞—Ç—É—Å | –¶–≤–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| `empty` | `bg-gray-100` | –°–µ—Ä—ã–π, —Å–≤–æ–±–æ–¥–Ω—ã–π |
| `planned` | `bg-blue-200` | –ì–æ–ª—É–±–æ–π, —Ä–∞–∑–º–µ—â–µ–Ω–æ |
| `growing` | `bg-green-300` | –ó–µ–ª–µ–Ω—ã–π, —Ä–∞—Å—Ç–µ—Ç |
| `ready` | `bg-emerald-400` | –Ø—Ä–∫–æ-–∑–µ–ª–µ–Ω—ã–π, –≥–æ—Ç–æ–≤–æ |
| `harvested` | `bg-yellow-300` | –ñ–µ–ª—Ç—ã–π, —Å–æ–±—Ä–∞–Ω–æ |
| `stop_pending` | `bg-orange-300` | –û—Ä–∞–Ω–∂–µ–≤—ã–π, –Ω–∞ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ |
| `problem` | `bg-red-300` | –ö—Ä–∞—Å–Ω—ã–π, –ø—Ä–æ–±–ª–µ–º–∞ |

### –ò–∫–æ–Ω–∫–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤:

- **–ü—Ä–æ–±–ª–µ–º–∞** `‚ö†Ô∏è`: –ö—Ä–∞—Å–Ω—ã–π –∫—Ä—É–∂–æ–∫ —Å –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º –∑–Ω–∞–∫–æ–º
- **–ì–æ—Ç–æ–≤–æ –∫ —Å–±–æ—Ä—É** `üåø`: –ó–µ–ª–µ–Ω–∞—è –∏–∫–æ–Ω–∫–∞ —Ä–∞—Å—Ç–µ–Ω–∏—è
- **–ó–∞–ø–æ–ª–Ω–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é** `‚óè`: –¢–µ–º–Ω–æ-–∑–µ–ª–µ–Ω—ã–π –∫—Ä—É–≥
- **–ß–∞—Å—Ç–∏—á–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ** `‚óê`: –ü–æ–ª–æ–≤–∏–Ω—á–∞—Ç—ã–π –∫—Ä—É–≥
- **–ü—É—Å—Ç–æ** `‚óã`: –ü—É—Å—Ç–æ–π –∫—Ä—É–≥

### –ê–Ω–∏–º–∞—Ü–∏–∏:

- –ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å—Ä–µ–∑–∞–º–∏: `slide-in-right` (300ms)
- –í—ã–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞: `scale(1.05)` + border highlight
- Long press: –í–∏–±—Ä–∞—Ü–∏—è (–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö) + haptic feedback
- –ü–æ—è–≤–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–∏ –¥–µ–π—Å—Ç–≤–∏–π: `slide-up` (250ms)

---

## üì± –ê–î–ê–ü–¢–ê–¶–ò–Ø –ü–û–î –ü–õ–ê–ù–®–ï–¢

### Touch —Å–æ–±—ã—Ç–∏—è:

```typescript
// useLongPress.ts
export function useLongPress(
  onLongPress: () => void,
  onShortPress: () => void,
  delay = 500
) {
  const timerRef = useRef<NodeJS.Timeout>()
  const isLongPressRef = useRef(false)

  const start = useCallback(() => {
    isLongPressRef.current = false
    timerRef.current = setTimeout(() => {
      isLongPressRef.current = true
      onLongPress()
      // –í–∏–±—Ä–∞—Ü–∏—è –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–µ
      if (window.navigator.vibrate) {
        window.navigator.vibrate(50)
      }
    }, delay)
  }, [onLongPress, delay])

  const cancel = useCallback(() => {
    if (timerRef.current) {
      clearTimeout(timerRef.current)
    }
  }, [])

  const end = useCallback(() => {
    cancel()
    if (!isLongPressRef.current) {
      onShortPress()
    }
  }, [cancel, onShortPress])

  return {
    onMouseDown: start,
    onMouseUp: end,
    onMouseLeave: cancel,
    onTouchStart: start,
    onTouchEnd: end,
    onTouchMove: cancel,
  }
}
```

### –†–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–∞:

- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫–Ω–æ–ø–∫–∏/–∫–∞—Ä—Ç–æ—á–∫–∏: `64px √ó 64px`
- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–æ–π–∫–∏: `120px √ó 80px`
- –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–¥–¥–æ–Ω–∞: `100px √ó 60px`
- –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π: –≤—ã—Å–æ—Ç–∞ `80px`
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é: —à–∏—Ä–∏–Ω–∞ `280px`

---

## ‚úÖ –ö–†–ò–¢–ï–†–ò–ò –ü–†–ò–ï–ú–ö–ò

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- [x] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ 2 —Ä—è–¥–∞ √ó 6 —Å—Ç–æ–µ–∫ √ó 7 –ø–æ–¥–¥–æ–Ω–æ–≤
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç long press —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º –º–µ–Ω—é
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç short press –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –≤—ã–±–æ—Ä–∞
- [ ] –†–µ–∂–∏–º—ã single/multi –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í–∏–¥–∂–µ—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –°–∏—Å—Ç–µ–º–∞ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∫—É–ª—å—Ç—É—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ 8 —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø—Ä–µ–≤—å—é –ø–æ–¥–¥–æ–Ω–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ä–µ–∑–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

### UI/UX —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- [ ] –î–∏–∑–∞–π–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç container.png
- [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–ª–∞–≤–Ω—ã–µ (60fps)
- [ ] Long press —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–µ—Ä–µ–∑ 500ms
- [ ] –í–∏–±—Ä–∞—Ü–∏—è –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ —Å–æ–±–ª—é–¥–µ–Ω–∞
- [ ] –†–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è touch
- [ ] Responsive –Ω–∞ –≤—Å–µ—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- [ ] –†–µ–Ω–¥–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ < 100ms
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ä–µ–∑–æ–≤ < 300ms
- [ ] –†–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ < 50ms
- [ ] –ù–µ—Ç –ª–∞–≥–æ–≤ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ

---

## üöÄ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠—Ç–∞–ø 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç (–î–µ–Ω—å 1)
1. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (farming.ts)
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∫—É–ª—å—Ç—É—Ä—ã –∏–∑ Excel
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å useLongPress hook
4. ‚úÖ –°–æ–∑–¥–∞—Ç—å useSelection hook
5. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å mockData (2√ó6√ó7)

### –≠—Ç–∞–ø 2: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–î–µ–Ω—å 2)
6. [ ] ContainerView.tsx
7. [ ] ContainerStats.tsx
8. [ ] ContainerSchema.tsx
9. [ ] RackCard.tsx —Å long/short press

### –≠—Ç–∞–ø 3: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç–æ–π–∫–∏ (–î–µ–Ω—å 3)
10. [ ] RackView.tsx
11. [ ] RackSchema.tsx (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è)
12. [ ] TrayCard.tsx
13. [ ] TrayPreview (8 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)

### –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ (–î–µ–Ω—å 4)
14. [ ] MultiSelectPanel.tsx
15. [ ] ContextMenu.tsx
16. [ ] CropSelectorModal.tsx
17. [ ] ApplyChangesModal.tsx

### –≠—Ç–∞–ø 5: –õ–æ–≥–∏–∫–∞ (–î–µ–Ω—å 5)
18. [ ] useDraftActions hook
19. [ ] useCompatibility hook
20. [ ] –§—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
21. [ ] –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –≠—Ç–∞–ø 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–î–µ–Ω—å 6)
22. [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
23. [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤
24. [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
25. [ ] –§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞

---

## üìä –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: 100% —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: < 100ms —Ä–µ–Ω–¥–µ—Ä
- **UX**: Long press —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫—É–ª—å—Ç—É—Ä
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: 0 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤

---

**–°—Ç–∞—Ç—É—Å**: üü° –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
**–í–µ—Ä—Å–∏—è**: 2.0.0
**–î–∞—Ç–∞**: 2024-09-30